@startuml
header onboarding-get-parameter
footer Página %page% of %lastpage%\nmade with ♥ by Nequi
title Diagrama de Secuencia - onboarding-get-parameter

actor Cliente
participant "Lambda onboarding-get-parameter" as Lambda
database "DynamoDB" as Dynamo

Cliente -> Lambda: Envía RequestMessage (getParameter)

alt RequestMessage válido
    Lambda -> Dynamo: Consulta parámetro (parameterKey, region)
    alt Parámetro encontrado
        Dynamo --> Lambda: Retorna valor del parámetro
        Lambda --> Cliente: ResponseMessage con StatusCode "0" (SUCCESS)
    else Parámetro no encontrado
        Dynamo --> Lambda: No existe registro
        Lambda --> Cliente: ResponseMessage con StatusCode "20-08A" (PARAM_NOT_FOUND)
    end
else RequestMessage inválido o ausente
    Lambda --> Cliente: ResponseMessage con StatusCode "20-05A" (BAD_PARAMETERS)
end

note over Lambda
1️. Valida la estructura del RequestMessage.  
2️. Si está ausente o incorrecto, responde BAD_PARAMETERS (20-05A).  
3️. Si el parámetro no existe, responde PARAM_NOT_FOUND (20-08A).  
4️. Si todo es correcto, retorna SUCCESS (0).
end note

@enduml
